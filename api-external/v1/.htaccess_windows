# .htaccess otimizado para Windows/XAMPP
RewriteEngine On

# Verificar se arquivo existe fisicamente
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Redirecionar para index.php
RewriteRule ^(.*)$ index.php [QSA,L]

# Configurações básicas de segurança
<Files "*.php">
    Order Allow,Deny
    Allow from all
</Files>

# Permitir acesso aos arquivos de teste
<Files "test_direct.php">
    Order Allow,Deny
    Allow from all
</Files>

# Headers básicos
Header always set Access-Control-Allow-Origin "*"
Header always set Access-Control-Allow-Methods "GET, POST, PUT, DELETE, OPTIONS"
Header always set Access-Control-Allow-Headers "Content-Type, Authorization, X-API-Key"

# Timeout mais alto para debug
php_value max_execution_time 300