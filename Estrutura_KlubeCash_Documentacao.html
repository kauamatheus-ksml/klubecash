<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DocumentaÃ§Ã£o da Estrutura do Projeto KlubeCash</title>
    <style>
        @media print {
            body { margin: 0; font-size: 11pt; }
            .page-break { page-break-before: always; }
            .no-print { display: none; }
        }
        
        body {
            font-family: "Times New Roman", serif;
            line-height: 1.6;
            margin: 20mm;
            color: #333;
            font-size: 12pt;
            max-width: 210mm;
        }
        
        .header {
            text-align: center;
            border-bottom: 3px solid #FF7A00;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #FF7A00;
            font-size: 28pt;
            margin: 0;
        }
        
        .header .subtitle {
            color: #666;
            font-size: 14pt;
            margin-top: 10px;
        }
        
        h1 {
            color: #FF7A00;
            border-bottom: 2px solid #FF7A00;
            padding-bottom: 8px;
            margin-top: 30px;
            font-size: 20pt;
        }
        
        h2 {
            color: #333;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
            margin-top: 25px;
            font-size: 16pt;
        }
        
        h3 {
            color: #555;
            margin-top: 20px;
            font-size: 14pt;
        }
        
        h4 {
            color: #666;
            margin-top: 15px;
            font-size: 12pt;
        }
        
        pre {
            background: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 12px;
            overflow-x: auto;
            font-family: "Courier New", monospace;
            font-size: 9pt;
            line-height: 1.3;
            margin: 15px 0;
        }
        
        code {
            background: #f0f0f0;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: "Courier New", monospace;
            font-size: 10pt;
        }
        
        pre code {
            background: none;
            padding: 0;
        }
        
        ul, ol {
            margin: 10px 0;
            padding-left: 25px;
        }
        
        li {
            margin: 4px 0;
        }
        
        p {
            margin: 10px 0;
            text-align: justify;
        }
        
        strong {
            font-weight: bold;
            color: #333;
        }
        
        .toc {
            border: 1px solid #ddd;
            background: #f9f9f9;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .toc h2 {
            margin-top: 0;
            color: #FF7A00;
        }
        
        .directory-tree {
            font-family: "Courier New", monospace;
            background: #f8f8f8;
            border: 1px solid #ddd;
            padding: 15px;
            line-height: 1.2;
            font-size: 9pt;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .architecture-box {
            text-align: center;
            margin: 20px 0;
            font-family: monospace;
            background: #f5f5f5;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 10pt;
        }
        
        .highlight {
            background: #fffbcc;
            padding: 15px;
            border-left: 4px solid #FF7A00;
            margin: 15px 0;
        }
        
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
        }
        
        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
        }
        
        .footer {
            margin-top: 50px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            text-align: center;
            color: #666;
            font-size: 10pt;
        }
        
        .print-instructions {
            background: #e3f2fd;
            border: 1px solid #90caf9;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>DocumentaÃ§Ã£o da Estrutura do Projeto KlubeCash</h1>
        <div class="subtitle">Guia Completo de Arquitetura e ImplementaÃ§Ã£o</div>
        <div class="subtitle">VersÃ£o 2.1.0 â€¢ 2025</div>
    </div>

    <div class="print-instructions no-print">
        <strong>ğŸ“„ Para gerar PDF:</strong> Use Ctrl+P (Windows) ou Cmd+P (Mac) e selecione "Salvar como PDF" no destino.
    </div>

    <div class="toc">
        <h2>ğŸ“‹ Ãndice</h2>
        <ol>
            <li><a href="#visao-geral">VisÃ£o Geral</a></li>
            <li><a href="#arquitetura">Arquitetura do Sistema</a></li>
            <li><a href="#estrutura">Estrutura de DiretÃ³rios</a></li>
            <li><a href="#padroes">PadrÃµes Arquiteturais</a></li>
            <li><a href="#componentes">Componentes Principais</a></li>
            <li><a href="#banco">Banco de Dados</a></li>
            <li><a href="#apis">APIs e IntegraÃ§Ãµes</a></li>
            <li><a href="#seguranca">SeguranÃ§a</a></li>
            <li><a href="#frontend">Frontend e UI</a></li>
            <li><a href="#mobile">Mobile (Flutter)</a></li>
            <li><a href="#replicar">Como Replicar em Outros Projetos</a></li>
        </ol>
    </div>

    <div class="page-break"></div>

    <h1 id="visao-geral">1. VisÃ£o Geral</h1>

    <p>O <strong>KlubeCash</strong> Ã© um sistema completo de cashback desenvolvido em PHP com arquitetura MVC (Model-View-Controller). O sistema permite que clientes ganhem dinheiro de volta em compras, lojas gerenciem transaÃ§Ãµes e administradores controlem todo o ecossistema.</p>

    <div class="highlight">
        <h3>ğŸ¯ CaracterÃ­sticas Principais:</h3>
        <ul>
            <li>Sistema multi-usuÃ¡rio (Clientes, Lojas, FuncionÃ¡rios, Administradores)</li>
            <li>IntegraÃ§Ã£o com Mercado Pago e OpenPix</li>
            <li>PWA (Progressive Web App) com funcionalidades offline</li>
            <li>Aplicativo mobile em Flutter</li>
            <li>Sistema de notificaÃ§Ãµes via WhatsApp</li>
            <li>Dashboard administrativo completo</li>
        </ul>
    </div>

    <h1 id="arquitetura">2. Arquitetura do Sistema</h1>

    <h2>2.1 PadrÃ£o MVC HÃ­brido</h2>
    <p>O sistema utiliza uma abordagem MVC adaptada:</p>

    <div class="architecture-box">
        <pre>
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Views    â”‚â—„â”€â”€â–ºâ”‚ Controllers â”‚â—„â”€â”€â–ºâ”‚   Models    â”‚
â”‚ (Frontend)  â”‚    â”‚  (LÃ³gica)   â”‚    â”‚ (Dados)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                   â”‚                   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  Database   â”‚
                    â”‚   (MySQL)   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        </pre>
    </div>

    <h2>2.2 Fluxo de Dados:</h2>
    <ol>
        <li><strong>Entrada</strong>: UsuÃ¡rio interage com Views (PHP/HTML/CSS/JS)</li>
        <li><strong>Processamento</strong>: Controllers processam requisiÃ§Ãµes</li>
        <li><strong>Dados</strong>: Models interagem com o banco de dados</li>
        <li><strong>SaÃ­da</strong>: Resposta retorna via Views ou APIs JSON</li>
    </ol>

    <div class="page-break"></div>

    <h1 id="estrutura">3. Estrutura de DiretÃ³rios</h1>

    <div class="directory-tree">
klubecash/
â”œâ”€â”€ ğŸ“ api/                          # APIs principais do sistema
â”‚   â”œâ”€â”€ balance.php                  # API de saldo
â”‚   â”œâ”€â”€ mercadopago.php             # IntegraÃ§Ã£o Mercado Pago
â”‚   â”œâ”€â”€ openpix.php                 # IntegraÃ§Ã£o OpenPix
â”‚   â”œâ”€â”€ transactions.php            # API de transaÃ§Ãµes
â”‚   â””â”€â”€ users.php                   # API de usuÃ¡rios
â”‚
â”œâ”€â”€ ğŸ“ api2/                         # APIs secundÃ¡rias/auxiliares
â”‚   â”œâ”€â”€ login.php                   # API de autenticaÃ§Ã£o
â”‚   â”œâ”€â”€ profile/                    # APIs de perfil
â”‚   â””â”€â”€ notifications.php           # API de notificaÃ§Ãµes
â”‚
â”œâ”€â”€ ğŸ“ assets/                       # Recursos estÃ¡ticos
â”‚   â”œâ”€â”€ css/                        # Folhas de estilo
â”‚   â”‚   â”œâ”€â”€ components/             # CSS de componentes
â”‚   â”‚   â””â”€â”€ views/                  # CSS especÃ­fico por view
â”‚   â”œâ”€â”€ js/                         # JavaScript
â”‚   â”‚   â”œâ”€â”€ components/             # JS de componentes
â”‚   â”‚   â””â”€â”€ admin/                  # JS administrativo
â”‚   â”œâ”€â”€ images/                     # Imagens do sistema
â”‚   â””â”€â”€ icons/                      # Ãcones PWA
â”‚
â”œâ”€â”€ ğŸ“ auth/                         # Sistema de autenticaÃ§Ã£o
â”‚   â””â”€â”€ google/                     # AutenticaÃ§Ã£o Google OAuth
â”‚
â”œâ”€â”€ ğŸ“ classes/                      # Classes utilitÃ¡rias
â”‚   â”œâ”€â”€ CashbackNotifier.php        # NotificaÃ§Ãµes de cashback
â”‚   â”œâ”€â”€ ImageGenerator.php          # GeraÃ§Ã£o de imagens
â”‚   â””â”€â”€ SaldoConsulta.php          # Consulta de saldos
â”‚
â”œâ”€â”€ ğŸ“ config/                       # ConfiguraÃ§Ãµes do sistema
â”‚   â”œâ”€â”€ constants.php               # Constantes globais
â”‚   â”œâ”€â”€ database.php                # ConfiguraÃ§Ã£o do BD
â”‚   â””â”€â”€ email.php                   # ConfiguraÃ§Ã£o de email
â”‚
â”œâ”€â”€ ğŸ“ controllers/                  # Controladores MVC
â”‚   â”œâ”€â”€ AdminController.php         # Controle administrativo
â”‚   â”œâ”€â”€ AuthController.php          # Controle de autenticaÃ§Ã£o
â”‚   â”œâ”€â”€ ClientController.php        # Controle de clientes
â”‚   â”œâ”€â”€ StoreController.php         # Controle de lojas
â”‚   â””â”€â”€ TransactionController.php   # Controle de transaÃ§Ãµes
â”‚
â”œâ”€â”€ ğŸ“ core/                         # NÃºcleo do sistema
â”‚   â””â”€â”€ bootstrap.php               # InicializaÃ§Ã£o do sistema
â”‚
â”œâ”€â”€ ğŸ“ models/                       # Modelos de dados
â”‚   â”œâ”€â”€ User.php                    # Modelo de usuÃ¡rio
â”‚   â”œâ”€â”€ Store.php                   # Modelo de loja
â”‚   â”œâ”€â”€ Transaction.php             # Modelo de transaÃ§Ã£o
â”‚   â””â”€â”€ Payment.php                 # Modelo de pagamento
â”‚
â”œâ”€â”€ ğŸ“ utils/                        # UtilitÃ¡rios do sistema
â”‚   â”œâ”€â”€ Email.php                   # UtilitÃ¡rios de email
â”‚   â”œâ”€â”€ Security.php                # SeguranÃ§a
â”‚   â”œâ”€â”€ Validator.php               # ValidaÃ§Ãµes
â”‚   â””â”€â”€ PaymentProcessor.php        # Processamento de pagamentos
â”‚
â”œâ”€â”€ ğŸ“ views/                        # Camada de apresentaÃ§Ã£o
â”‚   â”œâ”€â”€ admin/                      # Painel administrativo
â”‚   â”œâ”€â”€ client/                     # Ãrea do cliente
â”‚   â”œâ”€â”€ stores/                     # Ãrea das lojas
â”‚   â”œâ”€â”€ auth/                       # PÃ¡ginas de autenticaÃ§Ã£o
â”‚   â””â”€â”€ components/                 # Componentes reutilizÃ¡veis
â”‚
â””â”€â”€ index.php                       # PÃ¡gina principal
    </div>

    <div class="page-break"></div>

    <h1 id="padroes">4. PadrÃµes Arquiteturais</h1>

    <h2>4.1 MVC (Model-View-Controller)</h2>
    <pre><code class="php">// Exemplo de Controller
class AuthController {
    public static function login($email, $senha) {
        // ValidaÃ§Ã£o de entrada
        $validator = new Validator();
        
        // InteraÃ§Ã£o com Model
        $user = new User();
        $result = $user->authenticate($email, $senha);
        
        // Retorno para View
        return $result;
    }
}</code></pre>

    <h2>4.2 Singleton Pattern (ConexÃ£o com BD)</h2>
    <pre><code class="php">class Database {
    private static $connection = null;
    
    public static function getConnection() {
        if (self::$connection === null) {
            // Criar nova conexÃ£o
            self::$connection = new PDO($dsn, $user, $pass);
        }
        return self::$connection;
    }
}</code></pre>

    <h2>4.3 Factory Pattern (Para criaÃ§Ã£o de objetos)</h2>
    <pre><code class="php">class UserFactory {
    public static function create($type) {
        switch($type) {
            case 'cliente': return new Cliente();
            case 'loja': return new Loja();
            case 'admin': return new Administrador();
        }
    }
}</code></pre>

    <h1 id="componentes">5. Componentes Principais</h1>

    <h2>5.1 Sistema de AutenticaÃ§Ã£o</h2>
    <div class="info">
        <strong>LocalizaÃ§Ã£o:</strong> controllers/AuthController.php<br>
        <strong>Responsabilidades:</strong>
        <ul>
            <li>Login/logout de usuÃ¡rios</li>
            <li>Registro de novos usuÃ¡rios</li>
            <li>RecuperaÃ§Ã£o de senha</li>
            <li>GestÃ£o de sessÃµes</li>
            <li>AutenticaÃ§Ã£o Google OAuth</li>
        </ul>
    </div>

    <pre><code class="php">// Exemplo de uso
$result = AuthController::login($email, $senha);
if ($result['status']) {
    // UsuÃ¡rio autenticado
    header('Location: /dashboard');
}</code></pre>

    <h2>5.2 Sistema de Cashback</h2>
    <div class="info">
        <strong>LocalizaÃ§Ã£o:</strong> classes/CashbackNotifier.php<br>
        <strong>Responsabilidades:</strong>
        <ul>
            <li>CÃ¡lculo de cashback</li>
            <li>NotificaÃ§Ãµes automÃ¡ticas</li>
            <li>Processamento de transaÃ§Ãµes</li>
        </ul>
    </div>

    <h2>5.3 Sistema de Pagamentos</h2>
    <div class="info">
        <strong>LocalizaÃ§Ã£o:</strong> utils/PaymentProcessor.php<br>
        <strong>IntegraÃ§Ãµes:</strong>
        <ul>
            <li>Mercado Pago (PIX, cartÃ£o)</li>
            <li>OpenPix (PIX)</li>
            <li>Webhooks para confirmaÃ§Ã£o</li>
        </ul>
    </div>

    <div class="page-break"></div>

    <h1 id="banco">6. Banco de Dados</h1>

    <h2>6.1 Estrutura Principal:</h2>

    <pre><code class="sql">-- UsuÃ¡rios do sistema
CREATE TABLE usuarios (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(255) NOT NULL,
    email VARCHAR(255) UNIQUE NOT NULL,
    senha_hash VARCHAR(255) NOT NULL,
    tipo ENUM('cliente', 'loja', 'admin', 'funcionario'),
    status ENUM('ativo', 'inativo', 'bloqueado'),
    data_criacao TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Lojas parceiras
CREATE TABLE lojas (
    id INT PRIMARY KEY AUTO_INCREMENT,
    usuario_id INT,
    nome_fantasia VARCHAR(255) NOT NULL,
    categoria VARCHAR(100),
    porcentagem_cashback DECIMAL(5,2),
    status ENUM('pendente', 'aprovado', 'rejeitado'),
    FOREIGN KEY (usuario_id) REFERENCES usuarios(id)
);

-- TransaÃ§Ãµes de cashback
CREATE TABLE transacoes (
    id INT PRIMARY KEY AUTO_INCREMENT,
    cliente_id INT,
    loja_id INT,
    valor_compra DECIMAL(10,2),
    valor_cashback DECIMAL(10,2),
    status ENUM('pendente', 'aprovado', 'cancelado'),
    data_transacao TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (cliente_id) REFERENCES usuarios(id),
    FOREIGN KEY (loja_id) REFERENCES lojas(id)
);</code></pre>

    <h2>6.2 PadrÃµes de Uso:</h2>
    <ol>
        <li><strong>Prepared Statements</strong> para seguranÃ§a</li>
        <li><strong>TransaÃ§Ãµes</strong> para operaÃ§Ãµes complexas</li>
        <li><strong>Ãndices</strong> para performance</li>
        <li><strong>Foreign Keys</strong> para integridade</li>
    </ol>

    <h1 id="apis">7. APIs e IntegraÃ§Ãµes</h1>

    <h2>7.1 APIs REST Internas</h2>
    <pre><code class="php">// api/exemplo.php
header('Content-Type: application/json');

try {
    // ValidaÃ§Ã£o de entrada
    $input = json_decode(file_get_contents('php://input'), true);
    
    // Processamento
    $result = processarRequisicao($input);
    
    // Resposta
    echo json_encode([
        'success' => true,
        'data' => $result
    ]);
} catch (Exception $e) {
    echo json_encode([
        'success' => false,
        'error' => $e->getMessage()
    ]);
}</code></pre>

    <h2>7.2 IntegraÃ§Ã£o Mercado Pago</h2>
    <pre><code class="php">class MercadoPagoClient {
    private $accessToken = MP_ACCESS_TOKEN;
    
    public function createPayment($data) {
        $curl = curl_init();
        curl_setopt_array($curl, [
            CURLOPT_URL => MP_BASE_URL . '/v1/payments',
            CURLOPT_POST => true,
            CURLOPT_POSTFIELDS => json_encode($data),
            CURLOPT_HTTPHEADER => [
                'Authorization: Bearer ' . $this->accessToken,
                'Content-Type: application/json'
            ]
        ]);
        
        return json_decode(curl_exec($curl), true);
    }
}</code></pre>

    <div class="page-break"></div>

    <h1 id="seguranca">8. SeguranÃ§a</h1>

    <h2>8.1 ProteÃ§Ã£o CSRF</h2>
    <pre><code class="php">class Security {
    public static function generateCSRFToken() {
        return bin2hex(random_bytes(32));
    }
    
    public static function validateCSRFToken($token) {
        return hash_equals($_SESSION['csrf_token'], $token);
    }
}</code></pre>

    <h2>8.2 SanitizaÃ§Ã£o de Dados</h2>
    <pre><code class="php">public static function sanitizeInput($data) {
    return htmlspecialchars(strip_tags(trim($data)));
}</code></pre>

    <h2>8.3 ConfiguraÃ§Ãµes de SessÃ£o Segura</h2>
    <pre><code class="php">// config/constants.php
ini_set('session.cookie_httponly', 1);
ini_set('session.cookie_secure', 1);
ini_set('session.cookie_samesite', 'Strict');</code></pre>

    <h1 id="frontend">9. Frontend e UI</h1>

    <h2>9.1 Arquitetura CSS</h2>
    <div class="directory-tree">
assets/css/
â”œâ”€â”€ mobile-first.css        # Base responsiva
â”œâ”€â”€ components/            # Componentes UI
â”‚   â”œâ”€â”€ toast.css         # NotificaÃ§Ãµes
â”‚   â””â”€â”€ sidebar.css       # NavegaÃ§Ã£o
â””â”€â”€ views/                # Estilos por pÃ¡gina
    â”œâ”€â”€ admin/
    â”œâ”€â”€ client/
    â””â”€â”€ stores/
    </div>

    <h2>9.2 JavaScript Modular</h2>
    <pre><code class="javascript">// assets/js/components/toast.js
class Toast {
    static show(message, type = 'info') {
        const toast = document.createElement('div');
        toast.className = `toast toast-${type}`;
        toast.textContent = message;
        document.body.appendChild(toast);
    }
}</code></pre>

    <h2>9.3 PWA (Progressive Web App)</h2>
    <pre><code class="javascript">// pwa/sw.js - Service Worker
self.addEventListener('install', event => {
    event.waitUntil(
        caches.open('klube-cash-v1').then(cache => {
            return cache.addAll([
                '/',
                '/cliente/dashboard',
                '/assets/css/main.css',
                '/assets/js/main.js'
            ]);
        })
    );
});</code></pre>

    <div class="page-break"></div>

    <h1 id="mobile">10. Mobile (Flutter)</h1>

    <h2>10.1 Arquitetura Clean Architecture</h2>
    <div class="directory-tree">
lib/
â”œâ”€â”€ core/                  # NÃºcleo da aplicaÃ§Ã£o
â”‚   â”œâ”€â”€ constants/        # Constantes
â”‚   â”œâ”€â”€ network/          # Cliente HTTP
â”‚   â”œâ”€â”€ utils/            # UtilitÃ¡rios
â”‚   â””â”€â”€ widgets/          # Widgets base
â”‚
â”œâ”€â”€ features/             # Features por domÃ­nio
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ data/         # Fontes de dados
â”‚   â”‚   â”œâ”€â”€ domain/       # Regras de negÃ³cio
â”‚   â”‚   â””â”€â”€ presentation/ # UI e Estado
â”‚   â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ cashback/
â”‚   â””â”€â”€ stores/
â”‚
â””â”€â”€ main.dart             # Ponto de entrada
    </div>

    <h2>10.2 Exemplo de Feature:</h2>
    <pre><code class="dart">// features/auth/presentation/providers/auth_provider.dart
class AuthProvider extends ChangeNotifier {
  final LoginUseCase _loginUseCase;
  
  Future&lt;void&gt; login(String email, String password) async {
    final result = await _loginUseCase(
      LoginParams(email: email, password: password)
    );
    
    result.fold(
      (failure) => _handleError(failure),
      (user) => _handleSuccess(user),
    );
  }
}</code></pre>

    <h1 id="replicar">11. Como Replicar em Outros Projetos</h1>

    <h2>11.1 Estrutura Base Recomendada</h2>
    <div class="directory-tree">
projeto/
â”œâ”€â”€ config/              # ConfiguraÃ§Ãµes
â”‚   â”œâ”€â”€ constants.php    # Constantes globais
â”‚   â””â”€â”€ database.php     # ConexÃ£o BD
â”œâ”€â”€ core/                # NÃºcleo
â”‚   â””â”€â”€ bootstrap.php    # InicializaÃ§Ã£o
â”œâ”€â”€ controllers/         # Controladores
â”œâ”€â”€ models/             # Modelos
â”œâ”€â”€ views/              # Views
â”‚   â””â”€â”€ components/     # Componentes
â”œâ”€â”€ utils/              # UtilitÃ¡rios
â”œâ”€â”€ assets/             # Recursos estÃ¡ticos
â””â”€â”€ api/                # APIs
    </div>

    <h2>11.2 PadrÃµes para Adotar</h2>

    <h3>A. ConfiguraÃ§Ã£o Centralizada</h3>
    <pre><code class="php">// config/constants.php
define('DB_HOST', 'localhost');
define('SITE_URL', 'https://seusite.com');
define('EMAIL_FROM', 'noreply@seusite.com');</code></pre>

    <h3>B. Bootstrap de InicializaÃ§Ã£o</h3>
    <pre><code class="php">// core/bootstrap.php
require_once 'config/constants.php';
require_once 'config/database.php';

// Autoload de classes
spl_autoload_register(function($class) {
    $paths = ['controllers/', 'models/', 'utils/'];
    foreach($paths as $path) {
        $file = $path . $class . '.php';
        if (file_exists($file)) {
            require_once $file;
            break;
        }
    }
});</code></pre>

    <h3>C. Controller Base</h3>
    <pre><code class="php">abstract class BaseController {
    protected function validateInput($data, $rules) {
        return Validator::validate($data, $rules);
    }
    
    protected function jsonResponse($data, $status = 200) {
        header('Content-Type: application/json');
        http_response_code($status);
        echo json_encode($data);
        exit;
    }
}</code></pre>

    <div class="page-break"></div>

    <h2>11.3 Checklist para ImplementaÃ§Ã£o</h2>

    <div class="warning">
        <h3>ğŸ“‹ Essencial:</h3>
        <ul>
            <li>â˜ ConfiguraÃ§Ã£o de constantes centralizadas</li>
            <li>â˜ Sistema de autoload ou bootstrap</li>
            <li>â˜ ConexÃ£o segura com banco de dados</li>
            <li>â˜ ValidaÃ§Ã£o e sanitizaÃ§Ã£o de entrada</li>
            <li>â˜ Sistema de sessÃµes seguro</li>
            <li>â˜ Estrutura MVC bÃ¡sica</li>
        </ul>
    </div>

    <div class="info">
        <h3>â­ Recomendado:</h3>
        <ul>
            <li>â˜ Sistema de logs</li>
            <li>â˜ Cache de consultas</li>
            <li>â˜ CompressÃ£o de assets</li>
            <li>â˜ ProteÃ§Ã£o CSRF</li>
            <li>â˜ Rate limiting para APIs</li>
            <li>â˜ Backup automÃ¡tico</li>
        </ul>
    </div>

    <div class="highlight">
        <h3>ğŸš€ AvanÃ§ado:</h3>
        <ul>
            <li>â˜ PWA com Service Workers</li>
            <li>â˜ Sistema de notificaÃ§Ãµes</li>
            <li>â˜ IntegraÃ§Ã£o com APIs de pagamento</li>
            <li>â˜ Dashboard administrativo</li>
            <li>â˜ Sistema de relatÃ³rios</li>
        </ul>
    </div>

    <h1>ğŸ¯ ConclusÃ£o</h1>

    <p>A estrutura do KlubeCash demonstra um sistema robusto e escalÃ¡vel que pode servir como base para diversos tipos de projetos web. Os padrÃµes adotados garantem:</p>

    <ul>
        <li><strong>Maintibilidade</strong>: CÃ³digo organizado e bem estruturado</li>
        <li><strong>SeguranÃ§a</strong>: PrÃ¡ticas de seguranÃ§a em todas as camadas</li>
        <li><strong>Escalabilidade</strong>: Arquitetura que suporta crescimento</li>
        <li><strong>ReutilizaÃ§Ã£o</strong>: Componentes modulares e reutilizÃ¡veis</li>
        <li><strong>Performance</strong>: OtimizaÃ§Ãµes de cache e consultas</li>
    </ul>

    <p>Para implementar em outros projetos, recomenda-se adaptar os componentes conforme a necessidade especÃ­fica, mantendo sempre os princÃ­pios de seguranÃ§a e boas prÃ¡ticas apresentados nesta documentaÃ§Ã£o.</p>

    <div class="footer">
        <p><strong>Desenvolvido por:</strong> Equipe KlubeCash</p>
        <p><strong>VersÃ£o:</strong> 2.1.0 â€¢ <strong>Data:</strong> 2025 â€¢ <strong>LicenÃ§a:</strong> ProprietÃ¡ria</p>
    </div>

</body>
</html>